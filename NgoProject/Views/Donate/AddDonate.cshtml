

@model NgoProject.Models.Donate
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Donate";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="https://www.paypalobjects.com/api/checkout.js"></script>

<section class="donate-section">
    <div class="section-overlay"></div>
    <div class="container">
        <div class="row">

            <div class="col-lg-6 col-12 mx-auto">
                <form class="custom-form donate-form" asp-action="Donate" method="post" role="form">
                    <h3 class="mb-4">Make a donation</h3>

                    <div class="row">
@*                        <div class="col-lg-12 col-12">
                            <select class="col-lg-6 col-12 mx-auto"> <option>123</option> </select>

                        </div>*@
                     

                      





                        <div class="col-lg-12 col-12 form-check-group">
                            <div class="input-group">
                                <span class="input-group-text" id="basic-addon1">$</span>
                                <input type="text" id="data1" onchange="showData()" class="form-control"  placeholder="Enter Your An Amount" aria-label="Username" aria-describedby="basic-addon1" />

                                <p id="price" hidden></p>

                            </div>
                        </div>

                        <div class="col-lg-12 col-12">
                            <h5 class="mt-1">Personal Info</h5>
                        </div>

                        <div class="col-lg-6 col-12 mt-2">
                            <input type="text" name="donation-name" id="donation-name" class="form-control" placeholder="Jack Doe" required>
                        </div>

                        <div class="col-lg-6 col-12 mt-2">
                            <input type="email" name="donation-email" id="donation-email" class="form-control" placeholder="Jackdoe@gmail.com" required>
                        </div>

                        <div class="col-lg-12 col-12">
                            <h5 class="mt-4 pt-1">Choose Payment</h5>
                        </div>

                        <div class="col-lg-12 col-12 mt-2">


                       
                            <div id="paypal-button-container" > </div>
                        </div>
                    </div>
                </form>

            </div>

        </div>
    </div>
</section>


<script>
    paypal.Button.render({

        env: 'sandbox',

        client: {
            sandbox: 'Ad-lXG0mqSBx_qAL0NchqROL7_qjdYHZEi2f0uHu-MTPh4o-cfVbJ5x6Cg-1zwQmuaVP0tFvBRBTDNQY',
            production: '<insert production client id>'
        },
// Show the buyer a 'Pay Now' button in the checkout flow
        commit: true,

        // payment() is called when the button is clicked
        payment: function (data, actions) {

            // Make a call to the REST api to create the payment
            return actions.payment.create({
                payment: {
                    transactions: [
                        {
                            amount: {
                                total: parseFloat(document.getElementById('price').textContent).toString(), currency: 'USD'
                            }
                        }
                    ]
                }
            });
        },

        // onAuthorize() is called when the buyer approves the payment
        onAuthorize: function (data, actions) {

            // Make a call to the REST api to execute the payment
            return actions.payment.execute().then(function () {
                window.alert('Payment Complete!');
            });
        }

    }, '#paypal-button-container');

    function showData() {
        var data1 = document.getElementById("data1").value;
        document.getElementById("price").innerHTML = data1;
    }
</script>
